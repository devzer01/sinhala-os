use16       ; 16-bit mode

org 0x7C00 ; address of the boot sector

BootStageOne:
    mov ax, 12h ; AH=0 (Change video mode), AL=13h (Mode)
    int 10h ; Video BIOS interrupt
    ;mov ah, 09h
    ;mov dl, 80h
    ;int 13h

    ;mov ah, 08h
    ;mov dl, 80h
    ;mov di, 0x500
    ;int 13h

    mov ah, 02h
    mov al, 1
    mov ch, 0
    mov cl, 2
    mov dh, 0
    mov dl, 80h
    mov bx, fontdata
    int 13h
    mov bx, hello
    int 13h
    jmp fontdata
    times 510-($-$$) db 0
end:
    dw 0xAA55

fontdata:
    mov al, 0x80
loopx:
    mov bh, 0x0
    mov ah, 0xa
    mov cx, 0x1
    int 10h
    push ax
    mov ah, 0x3
    int 10h
    inc dl
    mov ah, 0x2
    int 10h
    pop ax
    inc al
    cmp al, 0xff
    jne loopx
jxp:
    nop
    nop
    jmp jxp

hello: db 0x14, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0x7a, 0x52, 0x00,
       db 0x01, 0x78, 0x10, 0x01, 0x1b, 0x0c, 0x07, 0x08, 0x90, 0x01, 0x00, 0x00,
       db 0x1c, 0x00, 0x00, 0x00, 0x1c, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
       db 0x11, 0x00, 0x00, 0x00, 0x00, 0x41, 0x0e, 0x10, 0x86, 0x02, 0x43, 0x0d,
       db 0x06, 0x4c, 0x0c, 0x07, 0x08, 0x00, 0x00, 0x00
       ret

times 0x3f00 - ($ - $$) db 0x99