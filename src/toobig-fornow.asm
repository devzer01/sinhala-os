;
; label = address (ptr)
; [label] = value (*ptr)
[BITS 16]

[ORG  0x7c00]
boot:
    ;mov ah, 00h
    ;mov al, 11h
    ;int 10h
    ;call displayinfo
    call sniff
    call sniff2
start:
    mov ax,13h
    int 10h
    ; draw palette in 32x8 squares, each square 5x5 pixels big (so 160x40px)
    push 0a000h
    pop es
    mov dx,32
    mov bx,23
    xor di,di
    lea si, [chars]
charloop:
    xor al, al
    cmp [ds:si], al
    jne setdraw
    jmp skipdraw
setdraw:
    mov al, 03h
    ; draw 5 pixels with "ah:al" color, ++color, di += 5
skipdraw:
    mov [es:di],al
    inc di
    inc si
    dec dx
    jnz charloop
    mov di, 0
    add di,320 ; move di to start of next line
    dec bx     ; do next single pixel line
    jnz charloop

    xor ah,ah
    int 16h
    hlt

    times 510-($-$$) db 0
end:
    dw 0xAA55

sniff:
    nop
    ret

chars db 0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,  ;0000000010000000000000000000000
    db 0,0,0,0,0,0,0x01,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,  ;0000001111110011111111100000000
    db 0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,  ;0000011111111111111111111000000
    db 0,0,0,1,1,1,1,1,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,  ;0001111100111111111111111100000
    db 0,0,1,1,1,1,1,1,1,0,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,  ;0011111110111111000001111110000
    db 0,0,1,1,1,1,0,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,1,0,0,0,0,  ;0011110111111100000000011110000
    db 0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,0,0,0,  ;0000111111111111100000001111000
    db 0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,  ;0000111111111111110000000111000
    db 0,0,0,0,0,1,1,1,1,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,1,0,0,  ;0000011110000000111000000111100
    db 0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,1,1,1,0,0,  ;0000011100000000011100000011100
    db 0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0,0,1,1,1,0,0,  ;0000111000000000001100000011100
    db 0,0,0,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,  ;0001110000000000001110000011100
    db 0,0,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,  ;0011110000011000001110000011100
    db 0,0,1,1,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,  ;0011110000111000001110000011100
    db 0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,  ;0000110000111000001110000011100
    db 0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,  ;0000110000111000001110000011100
    db 0,0,0,0,1,1,0,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,0,0,1,1,0,0,0,  ;0000110000111000001110000011000
    db 0,0,0,0,1,1,1,0,0,1,1,1,1,1,0,0,0,1,1,1,0,0,0,0,0,1,1,1,0,0,0,  ;0000111001111100011100000111000
    db 0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,0,0,0,0,  ;0000111111111111111100000110000
    db 0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,0,0,0,0,  ;0000111111111111111100011110000
    db 0,0,0,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,  ;0000011111101111111111111100000
    db 0,0,0,0,0,0,1,1,1,1,0,0,0,1,1,1,1,1,0,1,1,1,1,1,0,0,0,0,0,0,0,  ;0000001111000111110111110000000
    db 0,0,0,0,0,0,0,1,1,0,0,0,0,0,1,1,1,0,0,0,1,1,1,0,0,0,0,0,0,0,0   ;0000000110000011100011100000000

sniff2:
    nop
    ret